<p-menubar [model]="items" autoDisplay="false">
  <ng-template pTemplate="end">
    <div class="flex align-items-center gap-4 mr-4">
      <p-menu #menu [model]="item" popup="true"></p-menu>
      <p-avatar
        [image]="user?.photo"
        shape="circle"
        [style]="{ width: '50px', height: '50px' }"
        (click)="menu.toggle($event)"
        tabindex="0"
        (keydown)="menu.toggle($event)"
      ></p-avatar>
      <div
        class="flex flex-column justify-content-center align-items-start gap-0"
      >
        <p class="user-name">{{ user?.firstname }}</p>
        <p class="user-role">{{ user?.role }}</p>
      </div>
    </div>
  </ng-template>
  
  <!-- Dropdown for houses -->
  <div
    *ngIf="isDropdownVisible"
    class="house-dropdown"
    (mouseenter)="onDropdownMouseEnter()"
    (mouseleave)="onDropdownMouseLeave()"
  >
    <ul>
      <li *ngFor="let house of houses" (click)="goToHouse(house)">
        {{ house.house_no }}
      </li>
    </ul>
  </div>
</p-menubar>
