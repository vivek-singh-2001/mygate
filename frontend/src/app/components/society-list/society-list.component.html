<!-- user-list.component.html -->
<p-table [value]="societies" class="p-datatable-sm">
  <ng-template pTemplate="header">
    <tr>
      <th>Photo</th>
      <th>Name</th>
      <th>Society Name</th>
      <th>Number</th>
      <th>Email</th>
      <th>
        <p-dropdown
          [options]="statusOptions"
          [(ngModel)]="selectedStatus"
          placeholder="Select Status"
          (onChange)="onStatusFilterChange()"
          [style]="{ width: '100px', border: 'none' }"
          appendTo="body"
        >
        </p-dropdown>
      </th>
      <th>pdf</th>
      <th>Action</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-society>
    <tr>
      <td>
        <img
          [src]="
            society.User.photo ||
            'https://primefaces.org/cdn/primeng/images/galleria/galleria10.jpg'
          "
          alt="{{ society.name }}"
          class="p-shadow-2"
          style="width: 50px; height: 50px; border-radius: 50%"
        />
      </td>
      <td>{{ society.User.firstname }}</td>
      <td>{{ society.name }}</td>
      <td>{{ society.User.number || "N/A" }}</td>
      <td>{{ society.User.email }}</td>
      <td>{{ society.status }}</td>

      <td>
        <p-button icon="pi pi-download" severity="secondary" (onClick)="viewPdf(society)"/>
      </td>
      @if(society.status === 'pending'){
      <td class="flex gap-4"> 
        <p-button icon="pi pi-times" [rounded]="true" severity="danger" [outlined]="true" (onClick)="onCanel()" />
        <p-button icon="pi pi-check" [rounded]="true" [outlined]="true" (onClick)="onApprove()"/>
      </td>
      }
      @else {
        <td>
         <p>Completed   </p>
        </td>
      }
    </tr>
  </ng-template>
</p-table>

<div
  *ngIf="noUsersFound"
  class="flex justify-content-center align-items-center mt-6 mb-6"
>
  <p><b>No users found for the search query.</b></p>
</div>
